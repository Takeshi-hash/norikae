# 根岸発 交通費計算ツール (Norikae Concierge)

このツールは、特定の目的地（駅）への交通費を自動取得し、一覧化・計算するためのツールです。
Googleスプレッドシートをデータベースとして使用し、GitHub Pagesで誰でも簡単に交通費を確認できます。

## 🚀 主な機能

- **エリア別ソート**: 主要ターミナル、湾岸、赤坂・六本木などのエリアごとに駅を整理。
- **正確な50音順**: 「よみ」データを保持しているため、漢字駅名でも正しくあいうえお順に並びます。
- **ワンクリック管理**: macOS専用アプリ (`NorikaeApp.app`) により、ブラウザからボタン一つで管理サーバーを起動。
- **自動計算**: 複数の区間を選択するだけで、片道・往復の合計金額を即座に算出。

## 📖 使い方

### 1. 交通費を計算する（通常利用）

[交通費計算ツール (GitHub Pages)](https://takeshi-hash.github.io/norikae/) を開きます。

- **並び順を選択**: 「エリア順」または「50音順」から選べます。
- **駅を選択**: 到着駅を選ぶと、金額が自動入力されます。
- **区間を追加**: 複数の駅を合算できます。

### 2. 駅を追加・削除する（管理者向け）

メイン画面の「🔧 管理モード」ボタンをクリックします（macOSデスクトップのみ表示）。

1. **管理ツールを起動**: 「🚀 管理ツールを起動」ボタンを押すと、ローカルサーバーが立ち上がり、管理画面が開きます。
2. **駅の追加**: 「到着駅」に駅名を入力して追加ボタンを押すだけです。
    - ※運賃取得にはジョルダンを利用しており、完了まで約10秒かかります。
    - ※「よみ」や「エリア」はAIが後追いで補完するため、駅名だけの入力でOKです。
3. **サーバーの終了**: 作業が終わったら「🛑 作業完了・サーバー終了」ボタンを押して終了してください。

## 🛠️ 開発者・システム構成

- **Frontend**: HTML / Vanilla JS (GitHub Pages)
- **Backend (Admin)**: Node.js / Express (Local Server)
- **Database**: Google Sheets (API連携)
- **Fare API**: `japan-transfer-mcp` (Jorudan)

### セットアップ (開発者用)

1. `npm install`
2. `.env` に `SPREADSHEET_ID` を設定。
3. `credentials.json` (Service Account) をルートに配置。
4. `npm start` でローカルサーバー起動。

---
Produced by Takeshi-hash
